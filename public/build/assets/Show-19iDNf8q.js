import{r as f,u as v,j as e,d as j,H as N}from"./app-7sMBpozH.js";import{T as w,B as k}from"./Button-DA5NQ-6t.js";import{T as a,A as S,N as _}from"./app-layout-6KKbGTmd.js";import{r as D,a as L}from"./Star.es-B-AgLIni.js";/* empty css            */const U=()=>{const[t,m]=f.useState(!1),[s,l]=f.useState(null);f.useEffect(()=>{u()},[]);const u=()=>{try{const o=localStorage.getItem("luxuria_properties_unlocked");if(o){const i=JSON.parse(o),d=new Date(i.timestamp);Math.floor((new Date().getTime()-d.getTime())/(1e3*60*60*24))<=30?(m(!0),l(i)):(localStorage.removeItem("luxuria_properties_unlocked"),m(!1),l(null))}}catch(o){console.error("Error checking unlock status:",o),localStorage.removeItem("luxuria_properties_unlocked"),m(!1),l(null)}};return{isUnlocked:t,unlockData:s,saveUnlockStatus:(o,i)=>{const d={unlocked:!0,timestamp:new Date().toISOString(),user:{name:o.name,phone:o.phone,email:o.email||null},property_id:i};try{return localStorage.setItem("luxuria_properties_unlocked",JSON.stringify(d)),m(!0),l(d),!0}catch(x){return console.error("Error saving unlock status:",x),!1}},clearUnlockStatus:()=>{try{localStorage.removeItem("luxuria_properties_unlocked"),m(!1),l(null)}catch(o){console.error("Error clearing unlock status:",o)}},checkUnlockStatus:u,getRemainingDays:()=>{if(!s)return 0;const o=new Date(s.timestamp),d=Math.floor((new Date().getTime()-o.getTime())/(1e3*60*60*24));return Math.max(0,30-d)}}};function q({propertyId:t,onUnlock:m}){const{data:s,setData:l,post:u,processing:p,errors:n,reset:h}=v({property_id:t,name:"",phone:"",email:""}),o=i=>{i.preventDefault(),m({name:s.name,phone:s.phone,email:s.email}),u("/property-inquiries",{onSuccess:()=>{h("name","phone","email")},onError:d=>{console.error("Form submission error:",d)}})};return e.jsxs("div",{className:"flex flex-col gap-8 p-8 bg-gradient-to-br from-ui-2 to-ui-1 border-2 border-ui-3 rounded-2xl my-6",children:[e.jsxs("div",{className:"flex flex-col gap-6 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-text-primary rounded-full",children:e.jsx(D,{size:32,className:"text-ui-1"})})}),e.jsx(a,{variant:"heading3",className:"text-text-primary",children:"Unlock ALL property details for 30 days"}),e.jsx(a,{variant:"bodyLarge",className:"text-text-secondary max-w-md mx-auto",children:"Get instant access to this property and ALL future property details for 30 days. View pricing, full descriptions, image galleries, location maps, and contact information."}),e.jsx("div",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-full",children:e.jsx(a,{variant:"bodySmall",className:"text-yellow-800 font-medium",children:"ðŸŽ‰ One-time unlock gives you access to all properties!"})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-text-primary rounded-full flex-shrink-0"}),e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:"View complete pricing for ALL properties"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-text-primary rounded-full flex-shrink-0"}),e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:"Access full image galleries and floor plans"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-text-primary rounded-full flex-shrink-0"}),e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:"View exact locations and interactive maps"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-text-primary rounded-full flex-shrink-0"}),e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:"Get direct contact for ALL property inquiries"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-text-primary rounded-full flex-shrink-0"}),e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:"30 days unlimited access to all future listings"})]})]}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Your name *",value:s.name,onChange:i=>l("name",i.target.value),className:`px-4 py-3 border rounded-xl bg-ui-1 text-text-primary placeholder-text-secondary focus:outline-none focus:border-text-primary transition-colors ${n.name?"border-red-500":"border-ui-3"}`,required:!0}),n.name&&e.jsx(a,{variant:"bodySmall",className:"text-red-500",children:n.name}),e.jsx("input",{type:"tel",placeholder:"Your phone number *",value:s.phone,onChange:i=>l("phone",i.target.value),className:`px-4 py-3 border rounded-xl bg-ui-1 text-text-primary placeholder-text-secondary focus:outline-none focus:border-text-primary transition-colors ${n.phone?"border-red-500":"border-ui-3"}`,required:!0}),n.phone&&e.jsx(a,{variant:"bodySmall",className:"text-red-500",children:n.phone}),e.jsx("input",{type:"email",placeholder:"Your email (optional)",value:s.email,onChange:i=>l("email",i.target.value),className:`px-4 py-3 border rounded-xl bg-ui-1 text-text-primary placeholder-text-secondary focus:outline-none focus:border-text-primary transition-colors ${n.email?"border-red-500":"border-ui-3"}`}),n.email&&e.jsx(a,{variant:"bodySmall",className:"text-red-500",children:n.email})]}),e.jsx("button",{type:"submit",disabled:p||!s.name.trim()||!s.phone.trim(),className:"px-6 py-3 bg-text-primary text-ui-1 rounded-xl font-medium hover:bg-text-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all w-full flex items-center justify-center gap-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-ui-1 border-t-transparent"}),"Submitting..."]}):"Unlock Property Details"})]})]})}function $({property:t}){const{props:m}=j(),s=m.flash,{isUnlocked:l,saveUnlockStatus:u}=U(),p=r=>{u(r,t.id)},n=r=>({sell:"For Sale",rent:"For Rent",investment:"Investment",share:"Shared Ownership"})[r]||r,h=r=>r.replace("_"," ").split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "),o=r=>r.charAt(0).toUpperCase()+r.slice(1),i=r=>{const c=r.match(/q=([^&]+)/);return c?`https://maps.google.com/maps?q=${c[1]}&z=15&output=embed`:r},d=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=({label:r,value:c,isLast:g=!1,isLink:b=!1,href:y=""})=>e.jsxs("div",{className:`flex py-6 items-center justify-between ${g?"":"border-b border-ui-3"}`,children:[e.jsx(a,{variant:"bodyLarge",className:"text-text-primary",children:r}),b?e.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary hover:text-text-primary transition-colors",children:c}):e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:c})]});return e.jsxs(S,{color:"white",section:"hero",children:[e.jsx(N,{title:`${t.title}`}),s?.success&&e.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg",children:s.success}),s?.error&&e.jsx("div",{className:"fixed top-4 right-4 z-50 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg",children:s.error}),e.jsxs("section",{id:"hero",className:"flex flex-col gap-10 pt-24 sm:pt-32 md:pt-52 -mt-20 px-4 sm:px-6 md:px-10 pb-24 w-full max-w-6xl",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsx(_,{href:"/properties",className:"text-text-primary",arrow:!0,children:"Go Back"})})}),e.jsx(a,{variant:"heading2",className:"text-text-primary max-w-6xl",as:"h1",children:t.title}),e.jsx("img",{src:t.images[0]||"https://placehold.co/1200x500.png?text=No+Image",alt:t.title,className:"w-full max-w-6xl h-[300px] sm:h-[400px] md:h-[500px] object-cover rounded-2xl"}),e.jsxs("div",{className:"flex flex-col lg:flex-row w-full gap-6",children:[e.jsxs("div",{className:"w-full h-fit gap-6 flex flex-col overflow-hidden",children:[e.jsx(w,{variant:"secondary",text:n(t.property_type)}),e.jsxs("div",{className:"flex gap-2.5 items-start",children:[e.jsx(L,{size:20,className:"mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{variant:"bodyLarge",className:"text-text-primary",children:"Location"}),e.jsx("a",{href:t.property_location,target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary hover:text-text-primary transition-colors",children:"View on Google Maps"})]})]}),t.description&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(a,{variant:"bodyLarge",className:"text-text-primary",children:"Description"}),l?e.jsx("div",{className:"text-text-secondary prose prose-sm max-w-none [&>h2]:text-lg [&>h2]:font-semibold [&>h2]:text-text-primary [&>h2]:mt-4 [&>h2]:mb-2 [&>h3]:text-base [&>h3]:font-medium [&>h3]:text-text-primary [&>h3]:mt-3 [&>h3]:mb-2 [&>p]:mb-3 [&>ul]:mb-3 [&>ol]:mb-3 [&>li]:mb-1 [&>blockquote]:border-l-4 [&>blockquote]:border-ui-3 [&>blockquote]:pl-4 [&>blockquote]:italic [&>blockquote]:text-text-secondary",dangerouslySetInnerHTML:{__html:t.description}}):e.jsxs("div",{className:"text-text-secondary prose prose-sm max-w-none relative [&>h2]:text-lg [&>h2]:font-semibold [&>h2]:text-text-primary [&>h2]:mt-4 [&>h2]:mb-2 [&>h3]:text-base [&>h3]:font-medium [&>h3]:text-text-primary [&>h3]:mt-3 [&>h3]:mb-2 [&>p]:mb-3 [&>ul]:mb-3 [&>ol]:mb-3 [&>li]:mb-1 [&>blockquote]:border-l-4 [&>blockquote]:border-ui-3 [&>blockquote]:pl-4 [&>blockquote]:italic [&>blockquote]:text-text-secondary",children:[e.jsx("div",{className:"max-h-24 overflow-hidden",dangerouslySetInnerHTML:{__html:t.description.substring(0,150)+"..."}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-ui-2"})]})]}),!l&&e.jsx(q,{propertyId:t.id,onUnlock:p}),l&&e.jsxs("div",{className:"flex gap-2.5 items-end",children:[e.jsx(a,{variant:"heading3",className:"text-text-primary",children:Math.round(t.price).toLocaleString("en-US")}),e.jsx(a,{variant:"bodyMedium",className:"text-text-secondary",children:"SAR"})]}),l&&e.jsx(k,{text:"Request a quote",variant:"secondary",href:"/contact"})]}),l&&e.jsxs("div",{className:"w-full h-fit gap-6 flex flex-col p-4 sm:p-6 overflow-hidden bg-ui-2 border border-ui-3 rounded-2xl",children:[e.jsx(a,{variant:"heading3",className:"text-text-primary w-full",children:"Details"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(x,{label:"Area",value:`${t.property_area} mÂ²`}),e.jsx(x,{label:"Type",value:h(t.property_description)}),e.jsx(x,{label:"Category",value:o(t.property_category)}),e.jsx(x,{label:"License",value:t.advertising_license_number}),t.pdf&&e.jsx(x,{label:"Documents",value:"View PDF",isLink:!0,href:`/storage/${t.pdf}`}),e.jsx(x,{label:"Listed Date",value:d(t.created_at),isLast:!0})]})]})]}),l&&t.images.length>1&&e.jsxs("div",{className:"flex flex-col w-full gap-6 max-w-6xl",children:[e.jsx(a,{variant:"heading3",className:"text-text-primary",children:"Gallery"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.images.slice(1).map((r,c)=>e.jsx("img",{src:r,alt:`${t.title} - Image ${c+2}`,className:"w-full h-[300px] sm:h-[400px] object-cover rounded-2xl"},c))})]}),l&&e.jsxs("div",{className:"flex flex-col w-full gap-6 max-w-6xl",children:[e.jsx(a,{variant:"heading3",className:"text-text-primary",children:"Location"}),e.jsx("div",{className:"w-full h-[400px] rounded-2xl overflow-hidden",children:e.jsx("iframe",{src:i(t.property_location),style:{height:"100%",width:"100%",border:"0px"},className:"rounded-2xl",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Location of ${t.title}`})})]})]})]})}export{$ as default};
